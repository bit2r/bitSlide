{
  "hash": "c3e8038de70cb70c662f1d8af25d35f4",
  "result": {
    "markdown": "---\noutput: html_document\neditor_options: \n  chunk_output_type: console\n---\n\n\n# 전쟁 데이터 사례 연구\n\n## 독일 탱크 문제 {.smaller}\n\n::: panel-tabset\n### 문제 정의\n\n![](img/german_tank.jpg){fig-align=\"center\" width=\"640\"}\n\n### 데이터 수집\n\n![](img/german_tank_serial.jpg){fig-align=\"center\" width=\"604\"}\n\n### 중요성\n\n-   **전략적 평가**: 독일의 군사 능력과 전쟁 유지 능력을 정확히 평가하기 위해서는 탱크와 같은 중요한 군사 장비의 생산 능력 파악.\n\n-   **자원 할당**: 연합국은 한정된 자원을 어디에 집중해야 할지 결정하기 위해 독일 탱크 생산 능력을 파악해야 한다. 만약 독일이 큰 규모의 탱크를 생산하고 있다면, 연합국은 더 많은 탱크나 대탱크 무기를 생산하거나 경우에 따라서 전략을 수정해야 함.\n\n-   **전술적 결정**: 탱크의 수와 종류는 전투에서 독일군의 전략과 전술에 큰 영향을 미침. 독일의 탱크 생산 능력을 알면 연합국은 독일군의 다음 전략적 움직임을 예측하고 준비할 수 있음.\n\n-   **심리적 전쟁**: 탱크 생산 능력에 대한 정보는 연합국과 독일 모두에게 중요한 심리적 요소가 됨. 연합국이 독일의 생산 능력을 과소 평가하면 자신감을 잃을 수 있으며, 반대로 과대 평가하면 필요 이상으로 자원 소비 낭비로 이어짐.\n\n-   **평화 협정 및 후속 조치**: 전쟁이 끝난 후, 독일의 군사 능력과 잠재력을 평가하기 위해 탱크와 다른 군사 장비의 생산 데이터가 필요. 평화협정 조건 결정에 중요한 자료.\n\n### 월별 탱크생산대수\n\n<br>\n<br>\n\n|    년월    | 통계 추정 | 정보기관 추정 | 독일 생산대수 |\n|:----------:|:---------:|:-------------:|:-------------:|\n| 1940년 6월 |    169    |     1,000     |      122      |\n| 1941년 6월 |    244    |     1,550     |      271      |\n| 1942년 8월 |    327    |     1,550     |      342      |\n\n\n### 통계 추정방법\n\n::::: {.columns}\n::: {.column}\n\n독일 탱크 문제의 MLE 추정치는 관측된 탱크 일련 번호 간의 평균 간격을 기반으로 총 탱크 수를 추정한다. \n\n만약 $k$ 대의 탱크를 관측하고 최고 일련 번호가 $m$ 이라면, \n평균 간격은 $\\frac{m}{k}$으로 $m$ 이후에 관측되지 않은 탱크가 \n대략 $\\frac{m}{k}$ 대 더 있을 것으로 추정할 수 있다.\n\n\n따라서 $ N $에 대한 추정치는 다음과 같다:\n\n\n$$\nN_{\\text{추정치}} = m + \\frac{m}{k} - 1\n$$\n\n:::\n\n:::{.column}\n독일 탱크 5대를 포획했다고 가정해보자. \n\n탱크들의 일련 번호는 다음과 같다: 2, 5, 7, 20, 31.\n\n가장 높은 일련 번호 $m$은 31, 포획한 탱크 수 $k$는 5대.\n\n총 탱크 수 $N$의 추정치를 계산하면 다음과 같다.\n\n$$\nN_{\\text{추정치}} = m + \\frac{m}{k} - 1 = 31 + \\frac{31}{5} - 1\n$$\n\n추정된 총 탱크 수 $N_{\\text{추정치}}$는 **36.2**, 따라서, 36 혹은 37대로 추정할 수 있다.\n:::\n:::::\n\n:::\n\n\n## 나폴레옹 러시아 침공 {.smaller}\n\n::: panel-tabset\n### 나폴레옹\n\n![](img/public/about_napoleon.png)\n\n### 미나르 지도\n\n![](img/public/Minard.png)\n\n### 실제 침공\n\n![](img/public/minard-actual-map.png)\n\n### 데이터\n\n::: columns\n::: column\n**생존병사 수**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(HistData)\nlibrary(reactable)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tibble' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\ndata(Minard.troops) \ndata(Minard.cities)\ndata(Minard.temp)\n\nMinard.troops %>% \n  select(-group) %>% \n  reactable(\n    defaultPageSize = 5, minRows = 5,  filterable = FALSE, showPagination = TRUE,\n    columns = list(\n      long = colDef(name = \"위도\", align = \"center\"),\n      lat = colDef(name = \"경도\", align = \"center\" ),\n      survivors = colDef(name = \"생존병사수\", align = \"center\", format = colFormat(separators = TRUE ) ),\n      direction = colDef(name = \"진격방향\", align = \"center\")\n    )\n  )  \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-d593af29904529844591\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d593af29904529844591\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"long\":[24,24.5,25.5,26,27,28,28.5,29,30,30.3,32,33.2,34.4,35.5,36,37.6,37.7,37.5,37,36.8,35.4,34.3,33.3,32,30.4,29.2,28.5,28.3,27.5,26.8,26.4,25,24.4,24.2,24.1,24,24.5,25.5,26.6,27.4,28.7,28.7,29.2,28.5,28.3,24,24.5,24.6,24.6,24.2,24.1],\"lat\":[54.9,55,54.5,54.7,54.8,54.9,55,55.1,55.2,55.3,54.8,54.9,55.5,55.4,55.5,55.8,55.7,55.7,55,55,55.3,55.2,54.8,54.6,54.4,54.3,54.2,54.3,54.5,54.3,54.4,54.4,54.4,54.4,54.4,55.1,55.2,54.7,55.7,55.6,55.5,55.5,54.2,54.1,54.2,55.2,55.3,55.8,55.8,54.4,54.4],\"survivors\":[340000,340000,340000,320000,300000,280000,240000,210000,180000,175000,145000,140000,127100,100000,100000,100000,100000,98000,97000,96000,87000,55000,37000,24000,20000,20000,20000,20000,20000,12000,14000,8000,4000,4000,4000,60000,60000,60000,40000,33000,33000,33000,30000,30000,28000,22000,22000,6000,6000,6000,6000],\"direction\":[\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"R\",\"R\",\"R\",\"R\",\"A\",\"A\",\"A\",\"R\",\"R\",\"R\"]},\"columns\":[{\"id\":\"long\",\"name\":\"위도\",\"type\":\"numeric\",\"align\":\"center\"},{\"id\":\"lat\",\"name\":\"경도\",\"type\":\"numeric\",\"align\":\"center\"},{\"id\":\"survivors\",\"name\":\"생존병사수\",\"type\":\"numeric\",\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"align\":\"center\"},{\"id\":\"direction\",\"name\":\"진격방향\",\"type\":\"factor\",\"align\":\"center\"}],\"defaultPageSize\":5,\"showPagination\":true,\"minRows\":5,\"dataKey\":\"673d3bb85764c39b30c143741c50d002\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n:::\n\n::: column\n**후퇴 기온**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(Minard.temp)\n\nMinard.temp %>% \n  reactable(\n    defaultPageSize = 5, minRows = 5,  filterable = FALSE, showPagination = TRUE,\n    columns = list(\n      long = colDef(name = \"위도\", align = \"center\"),\n      temp = colDef(name = \"기온\", align = \"center\" ),\n      days = colDef(name = \"후퇴날짜\", align = \"center\"),\n      date = colDef(name = \"관측날짜\", align = \"center\")\n    )\n  )  \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-84e7212537dc73265e41\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-84e7212537dc73265e41\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"long\":[37.6,36,33.2,32,29.2,28.5,27.2,26.7,25.3],\"temp\":[0,0,-9,-21,-11,-20,-24,-30,-26],\"days\":[6,6,16,5,10,4,3,5,1],\"date\":[\"Oct18\",\"Oct24\",\"Nov09\",\"Nov14\",null,\"Nov28\",\"Dec01\",\"Dec06\",\"Dec07\"]},\"columns\":[{\"id\":\"long\",\"name\":\"위도\",\"type\":\"numeric\",\"align\":\"center\"},{\"id\":\"temp\",\"name\":\"기온\",\"type\":\"numeric\",\"align\":\"center\"},{\"id\":\"days\",\"name\":\"후퇴날짜\",\"type\":\"numeric\",\"align\":\"center\"},{\"id\":\"date\",\"name\":\"관측날짜\",\"type\":\"factor\",\"align\":\"center\"}],\"defaultPageSize\":5,\"showPagination\":true,\"minRows\":5,\"dataKey\":\"6c6cfa80e5cf0aba0ce65a5566db5e3d\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n:::\n:::\n\n### 시각화\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(HistData)\n\ndata(Minard.troops)\ndata(Minard.cities)\ndata(Minard.temp)\n\nsource(\"../../../swc/sungnam-report/R/theme_election.R\", encoding = \"UTF-8\")\n\n## Not run: \n#' ## Load required packages\nrequire(ggplot2)\nrequire(scales)\nrequire(gridExtra)\n\nlevels(Minard.cities$city) <- c(\"Bobr\", \"Chjat\", \"Dorogobouge\", \"Gloubokoe\", \"Kowno\", \"Malo-Jarosewii\", \n                                \"Minsk\", \"Mohilow\", \"Moiodexno\", \"Mojaisk\", \"모스코바\", \"Orscha\", \n                                \"Polotzk\", \"Smolensk\", \"Smorgoni\", \"Studienska\", \"Tarantino\", \n                                \"Wilna\", \"Witebsk\", \"Wixma\")\n\n#' ## plot path of troops, and another layer for city names\nplot_troops <- ggplot(Minard.troops, aes(long, lat)) +\n\tgeom_path(aes(size = survivors, colour = direction, group = group),\n               lineend = \"round\", linejoin = \"round\")\nplot_cities <- geom_text(aes(label = city), size = 4, data = Minard.cities)\n \n#' ## Combine these, and add scale information, labels, etc.\n#' Set the x-axis limits for longitude explicitly, to coincide with those for temperature\n\nbreaks <- c(1, 2, 3) * 10^5 \nplot_minard <- plot_troops + plot_cities +\n \tscale_size(\"생존병사수\", range = c(1, 10), \n \t            breaks = breaks, labels = scales::comma(breaks)) +\n  scale_color_manual(\"진격방향\", \n                     values = c(\"grey50\", \"red\"), \n                     labels=c(\"진격\", \"후퇴\")) +\n  coord_cartesian(xlim = c(24, 38)) +\n  labs(x = NULL,\n       y = \"경도\",\n       title = \"나폴레옹 러시아 침공\",\n       subtitle = \"1812년 6월 24일 ~ 1813년 1월 5일\") +\n  theme_election() +\n  theme(legend.position=c(.8, .2), legend.box=\"horizontal\")\n \nlibrary(ggrepel)\n#' ## plot temperature vs. longitude, with labels for dates\nplot_temp <- Minard.temp %>% \n  mutate(date = case_when(str_detect(date, \"Oct\") ~ str_replace(date, \"Oct\", \"10월\"),\n                          str_detect(date, \"Nov\") ~ str_replace(date, \"Nov\", \"11월\"),\n                          str_detect(date, \"Dec\") ~ str_replace(date, \"Dec\", \"12월\"),\n                           TRUE ~ \"미상\")) %>% \n  mutate(date = glue::glue(\"{date}일\")) %>% \n  mutate(date = ifelse(date == \"미상일\", \"미상\", date)) %>% \n  ggplot(aes(long, temp)) +\n  \tgeom_path(color=\"grey\", size=1.5) +\n  \tgeom_point(size=2) +\n  \tgeom_text_repel(aes(label=glue::glue(\"{date}\")) ) +\n  \txlab(\"위도\") + ylab(\"기온\") +\n  \tcoord_cartesian(xlim = c(24, 38)) + \n  \ttheme_bw()\n\t\n#' Combine the two plots into one\nminard_g <- grid.arrange(plot_minard, plot_temp, nrow=2, heights=c(3,1))\n\nggsave( glue::glue(\"fig/나폴레옹_러시아.png\") , \n        minard_g,\n        device = ragg::agg_png, \n        width = 297, height = 210, units = \"mm\", res = 600)\n```\n:::\n\n\n![](img/public/%EB%82%98%ED%8F%B4%EB%A0%88%EC%98%B9_%EB%9F%AC%EC%8B%9C%EC%95%84.png){fig-align=\"center\" width=\"707\"}\n:::\n\n::: aside\n[Re-Visions of Minard](https://www.datavis.ca/gallery/re-minard.php)\n:::\n\n## 나이팅게일 - 백의천사 {.smaller}\n\n::: panel-tabset\n### 나이팅게일\n\n![](img/public/nightingale-overview.png){fig-align=\"center\" width=\"859\"}\n\n### 크림전쟁\n\n![](img/public/nightingale-war.png){fig-align=\"center\" width=\"1129\"}\n\n### 데이터\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(HistData)\nlibrary(reactable)\n\nHistData::Nightingale %>% \n  as_tibble() %>% \n  set_names(c(\"일자\", \"월\", \"년\", \"군인수\", \"질병사망\", \"부상사망\", \"기타사망\", \"질병사망율\", \"부상사망율\", \"기타사망율\")) %>% \n  select(-월, -년) %>% \n  mutate(질병사망율 = 질병사망율 / 100,\n         부상사망율 = 부상사망율 / 100,\n         기타사망율 = 기타사망율 / 100) %>% \n  reactable(\n    defaultPageSize = 5, minRows = 5,  filterable = TRUE, showPagination = TRUE,\n    columns = list(\n      군인수 = colDef(align = \"center\", format = colFormat(separators = TRUE ) ),\n      질병사망 = colDef(align = \"center\", format = colFormat(separators = TRUE ) ),\n      부상사망 = colDef(align = \"center\", format = colFormat(separators = TRUE ) ),\n      기타사망   = colDef(align = \"center\", format = colFormat(separators = TRUE ) ),\n      질병사망율 = colDef(align = \"center\", format = colFormat(percent    = TRUE ) ),      \n      부상사망율 = colDef(align = \"center\", format = colFormat(percent    = TRUE ) ),      \n      기타사망율 = colDef(align = \"center\", format = colFormat(percent    = TRUE ) )\n    )\n  )  \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-b3afc89f9f5069c304f1\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b3afc89f9f5069c304f1\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"일자\":[\"1854-04-01\",\"1854-05-01\",\"1854-06-01\",\"1854-07-01\",\"1854-08-01\",\"1854-09-01\",\"1854-10-01\",\"1854-11-01\",\"1854-12-01\",\"1855-01-01\",\"1855-02-01\",\"1855-03-01\",\"1855-04-01\",\"1855-05-01\",\"1855-06-01\",\"1855-07-01\",\"1855-08-01\",\"1855-09-01\",\"1855-10-01\",\"1855-11-01\",\"1855-12-01\",\"1856-01-01\",\"1856-02-01\",\"1856-03-01\"],\"군인수\":[8571,23333,28333,28722,30246,30290,30643,29736,32779,32393,30919,30107,32252,35473,38863,42647,44614,47751,46852,37853,43217,44212,43485,46140],\"질병사망\":[1,12,11,359,828,788,503,844,1725,2761,2120,1205,477,508,802,382,483,189,128,178,91,42,24,15],\"부상사망\":[0,0,0,0,1,81,132,287,114,83,42,32,48,49,209,134,164,276,53,33,18,2,0,0],\"기타사망\":[5,9,6,23,30,70,128,106,131,324,361,172,57,37,31,33,25,20,18,32,28,48,19,35],\"질병사망율\":[0.014,0.062,0.047,1.5,3.285,3.122,1.97,3.406,6.315,10.228,8.228,4.803,1.775,1.718,2.476,1.075,1.299,0.475,0.328,0.564,0.253,0.114,0.066,0.039],\"부상사망율\":[0,0,0,0,0.004,0.321,0.517,1.158,0.417,0.307,0.163,0.128,0.179,0.166,0.645,0.377,0.441,0.694,0.136,0.105,0.05,0.005,0,0],\"기타사망율\":[0.07,0.046,0.025,0.096,0.119,0.277,0.501,0.428,0.48,1.2,1.401,0.686,0.212,0.125,0.096,0.093,0.067,0.05,0.046,0.101,0.078,0.13,0.052,0.091]},\"columns\":[{\"id\":\"일자\",\"name\":\"일자\",\"type\":\"Date\"},{\"id\":\"군인수\",\"name\":\"군인수\",\"type\":\"numeric\",\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"align\":\"center\"},{\"id\":\"질병사망\",\"name\":\"질병사망\",\"type\":\"numeric\",\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"align\":\"center\"},{\"id\":\"부상사망\",\"name\":\"부상사망\",\"type\":\"numeric\",\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"align\":\"center\"},{\"id\":\"기타사망\",\"name\":\"기타사망\",\"type\":\"numeric\",\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"align\":\"center\"},{\"id\":\"질병사망율\",\"name\":\"질병사망율\",\"type\":\"numeric\",\"format\":{\"cell\":{\"percent\":true},\"aggregated\":{\"percent\":true}},\"align\":\"center\"},{\"id\":\"부상사망율\",\"name\":\"부상사망율\",\"type\":\"numeric\",\"format\":{\"cell\":{\"percent\":true},\"aggregated\":{\"percent\":true}},\"align\":\"center\"},{\"id\":\"기타사망율\",\"name\":\"기타사망율\",\"type\":\"numeric\",\"format\":{\"cell\":{\"percent\":true},\"aggregated\":{\"percent\":true}},\"align\":\"center\"}],\"filterable\":true,\"defaultPageSize\":5,\"showPagination\":true,\"minRows\":5,\"dataKey\":\"566007a8777407dd06eeb0cd4239bf0e\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 시각화\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#============================================================================\n#  R codes for recreating Rose Diagram as designed by Florence Nightingale\n#============================================================================\n# https://rpubs.com/chidungkt/819554\n\n# Clear our R environment: \nrm(list = ls())\n\n# Load Nightingale data set: \ndata(\"Nightingale\", package = \"HistData\")\n\n# Description about the data set: \n# ?HistData::Nightingale\n\n# Load some R packages: \nlibrary(tidyverse) # for data manipulation and visualization.\nlibrary(stringr) # for text prcessing.\nlibrary(lubridate) # for date-time processing.\nlibrary(hrbrthemes) # For using black theme.\n\n# Convert to long form and processing for some columns: \n\nNightingale %>% \n  select(Date, Disease.rate, Wounds.rate, Other.rate) %>% \n  gather(Cause, Deaths, -Date) %>% \n  mutate(Cause = str_replace_all(Cause, \"\\\\.rate\", \"\"), Regime = rep(c(\"Before\", \"After\"), time = 3, each = 12)) %>% \n  mutate(Regime = factor(Regime, levels = c(\"Before\", \"After\"))) %>%  \n  mutate(mo = month(Date, label = TRUE, abbr = TRUE)) -> longForm_data\n\n# Select Ubuntu Condensed font for ploting: \n\n# Recreate Rose Diagram: \nsource(\"../../../swc/sungnam-report/R/theme_election.R\", encoding = \"UTF-8\")  \nmy_font <- \"MaruBuri\"\n\n\nnightingale_g <- longForm_data %>% \n  mutate(Regime = ifelse(Regime == \"Before\", \"처치 전\", \"처치 후\")) %>% \n  mutate(Cause = case_when(str_detect(Cause, \"Disease\") ~ \"질병사망자\",\n                           str_detect(Cause, \"Wounds\")  ~ \"부상사망자\",\n                           TRUE  ~ \"기타사망자\")) %>% \n  mutate(Cause = factor(Cause, levels = c(\"질병사망자\", \"부상사망자\", \"기타사망자\"))) %>% \n  ggplot(aes(x = mo, y = Deaths, fill = Cause)) +\n    geom_col(color = \"grey20\") + \n    theme_modern_rc(base_family = my_font, subtitle_family = my_font) + \n    scale_fill_manual(values = c(\"firebrick\", \"orange\", \"#365181\"), name = \"\") +\n    scale_y_sqrt() +\n    facet_wrap(~ Regime) + \n    coord_equal(ratio = 1) +  \n    coord_polar() +\n    labs(title = \"크림전쟁 사망원인\", \n         subtitle = \"나이팅게일이 설계한 그래프\", \n         caption = \"데이터출처: 크림전쟁 원일별 사망자\") + \n    theme(legend.position = \"top\") + \n    theme(text = element_text(family = my_font, size = 14)) + \n    theme(axis.title.y = element_blank()) + \n    theme(axis.title.x = element_blank()) + \n    theme(axis.text.y = element_blank()) + \n    theme(axis.ticks = element_blank()) + \n    theme(plot.margin = unit(rep(0.7, 4), \"cm\")) + \n    theme(plot.title = element_text(color = \"white\", family = my_font, size = 25)) + \n    theme(plot.caption = element_text(color = \"grey70\", family = my_font, size = 15)) + \n    theme(plot.subtitle = element_text(color = \"grey70\", size = 15)) +\n    theme(legend.text = element_text(color = \"white\", size = 15)) + \n    theme(strip.text = element_text(color = \"white\", size = 17, face = \"bold\", family = my_font, hjust = 0.5))\n\n\nggsave( glue::glue(\"fig/나이팅게일.png\") , \n        nightingale_g,\n        device = ragg::agg_png, \n        width = 297, height = 210, units = \"mm\", res = 600)\n```\n:::\n\n\n![](img/public/%EB%82%98%EC%9D%B4%ED%8C%85%EA%B2%8C%EC%9D%BC.png){fig-align=\"center\" width=\"707\"}\n:::\n\n::: aside\n-   [위키백과, \"플로렌스 나이팅게일\"](https://ko.wikipedia.org/wiki/%ED%94%8C%EB%A1%9C%EB%A0%8C%EC%8A%A4_%EB%82%98%EC%9D%B4%ED%8C%85%EA%B2%8C%EC%9D%BC), [위키백과, \"크림전쟁\"](https://ko.wikipedia.org/wiki/%ED%81%AC%EB%A6%BC_%EC%A0%84%EC%9F%81)\n:::\n\n\n## 폭격비행기 {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code}\neurope_names <- glue::glue(\"Europe_{1939:1945}\")\npacific_names <- glue::glue(\"Pacific_{c(1937, 1939, 1941:1945)}\")\n\nfor(i in 1:length(europe_names)) {\n  # cat(europe_names[i], \"\\n\")\n  # download.file(url = glue::glue(\"http://www.andrewclem.com/War/Maps/{europe_names[i]}.gif\"),\n  #             destfile = glue::glue(\"{here::here()}/fig/world_war/{europe_names[i]}.png\"), mode = \"wb\" )\n  cat(pacific_names[i], \"\\n\")\n  download.file(url = glue::glue(\"http://www.andrewclem.com/War/Maps/{pacific_names[i]}.gif\"),\n              destfile = glue::glue(\"{here::here()}/fig/world_war/{pacific_names[i]}.png\"), mode = \"wb\" )\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(magick)\n\nworld_war_files <- fs::dir_ls(path = \"fig/world_war\", glob = \"*.png\")\n\neurope_files <- world_war_files[str_detect(world_war_files, \"Europe\")]\npacific_files <- world_war_files[!str_detect(world_war_files, \"Europe\")]\n\n## 유럽 전황 \neurope_m <- magick::image_read(pacific_files[1])\n\nfor (i in 2:length(europe_files)) {\n  europe_m <- c(europe_m, magick::image_read(europe_files[i]))\n}\n\neurope_ani <- magick::image_animate(europe_m, fps = 1, loop = 0, dispose = \"previous\")\nmagick::image_write(europe_ani, \"fig/world_war_europe.gif\")\n\n## 태평양 전황 \npacific_m <- magick::image_read(pacific_files[1])\n\nfor (i in 2:length(pacific_files)) {\n  pacific_m <- c(pacific_m, magick::image_read(pacific_files[i]))\n}\n\npacific_ani <- magick::image_animate(pacific_m, fps = 1, loop = 0, dispose = \"previous\")\nmagick::image_write(pacific_ani, \"fig/world_war_pacific.gif\")\n```\n:::\n\n\n::: panel-tabset\n### 세계대전 - 유럽\n\n![](img/public/world_war_europe.gif)\n\n### 세계대전 - 태평양\n\n![](img/public/world_war_pacific.gif)\n\n### 대공포\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/48zE-hRAYEA\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen>\n\n</iframe>\n\n### 폭격기 데이터\n\n![](img/public/Survivorship-bias.png){fig-align=\"center\" width=\"671\"}\n\n### 고민\n\n![](img/public/hum_meme.jpg){fig-align=\"center\" width=\"500\"}\n\n### 업그레이드\n\n![](img/public/survivorship_bias_plane.png){fig-align=\"center\" width=\"1698\"}\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/core-js-2.5.3/shim.min.js\"></script>\r\n<script src=\"../../site_libs/react-17.0.0/react.min.js\"></script>\r\n<script src=\"../../site_libs/react-17.0.0/react-dom.min.js\"></script>\r\n<script src=\"../../site_libs/reactwidget-1.0.0/react-tools.js\"></script>\r\n<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<link href=\"../../site_libs/reactable-0.4.4/reactable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/reactable-binding-0.4.4/reactable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}